(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[384],{PyEA:function(e,t,r){"use strict";r.r(t);var n=r("rePB"),c=r("o0o1"),o=r.n(c),a=r("HaE+"),s=r("ODXe"),i=r("q1tI"),u=r("/MKj"),l=r("GR0a"),p=r("/BuZ"),b=r("e18T"),O=r("cHig"),j=r("yy36"),f=r("Ff2n"),h=r("1OyB"),d=r("vuIU"),C=r("JX7q"),v=r("Ji7U"),y=r("md7G"),m=r("foSv"),x=r("cQ3R"),w=r("fTi7"),_=r("b0K7"),P=r("FsEs"),I=r("wMKF"),g=r("1xSP"),E=r("lzsc"),S=r("c8W1"),A=r("2oex"),D=r("CWAm"),k=r("fUK6"),R=r("raiL"),T=r("givd"),K=r("w1aO"),L=r("J2dO"),U=r("nKUr"),F=["currentContentItem","hasCourseAccess","hasCourseContentItemAccess","platformPage","contentTitle"];function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=Object(m.a)(e);if(t){var c=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(y.a)(this,r)}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B={showModal:T.c,nextContentItemRequested:S.b,trackVisit:D.i,setUserExperimentAssignment:k.r},N=function CourseRouteComponent(e){var t=g.c[e.currentContentItem.type].component;return Object(U.jsx)(t,_objectSpread({},e))},q=function(e){Object(v.default)(CourseContentItem,e);var t=_createSuper(CourseContentItem);function CourseContentItem(){var e;Object(h.default)(this,CourseContentItem);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c)),Object(n.a)(Object(C.a)(e),"componentDidMount",Object(a.a)(o.a.mark((function _callee(){var t,r;return o.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if((t=e.props.contentIds)&&((r=window).dataLayer||(r.dataLayer=[]),window.dataLayer.push({event:"content_id_loaded",content_id:Object(I.a)(t)})),e.props.hasCourseContentItemAccess){n.next=5;break}return n.next=5,e.showProExclusiveCourseInterstitial();case 5:case"end":return n.stop()}}),_callee)})))),Object(n.a)(Object(C.a)(e),"state",{showInterstitials:!1}),Object(n.a)(Object(C.a)(e),"componentDidUpdate",function(){var t=Object(a.a)(o.a.mark((function _callee2(t){return o.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:if(!t.hasCourseContentItemAccess||e.props.hasCourseContentItemAccess){r.next=3;break}return r.next=3,e.showProExclusiveCourseInterstitial();case 3:case"end":return r.stop()}}),_callee2)})));return function(e){return t.apply(this,arguments)}}()),Object(n.a)(Object(C.a)(e),"showNextContentInterstitial",(function(){e.props.interstitialsFeatureFlagEnabled?e.setState({showInterstitials:!0}):e.props.nextContentItemRequested({returnPath:e.returnPath()})})),Object(n.a)(Object(C.a)(e),"showProExclusiveCourseInterstitial",Object(a.a)(o.a.mark((function _callee3(){var t,r,c;return o.a.wrap((function _callee3$(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.props.paidExclusiveOverlayExperiment,r=t,t){o.next=7;break}return o.next=5,Object(w.a)(K.a.PaidExclusiveOverlay);case 5:(r=o.sent)&&e.props.setUserExperimentAssignment(Object(n.a)({},K.a.PaidExclusiveOverlay,r));case 7:c="variant"===r?"PaidExclusiveOverlay":"ProExclusiveCourseInterstitial",e.props.showModal({type:c,returnPath:e.returnPath()});case 9:case"end":return o.stop()}}),_callee3)})))),e}return Object(d.default)(CourseContentItem,[{key:"returnPath",value:function returnPath(){var e=this.props.locationParams;return Object(_.lb)(e.trackSlug)}},{key:"renderCourseRouteComponent",value:function renderCourseRouteComponent(){var e=this.props,t=e.currentContentItem,r=(e.hasCourseAccess,e.hasCourseContentItemAccess),n=e.platformPage,c=(e.contentTitle,_objectSpread(_objectSpread({},Object(f.a)(e,F)),{},{exitPaths:{logo:"/",back:this.returnPath()},navigateToExercise:this.props.navigateToExercise,showNextContentInterstitial:this.showNextContentInterstitial}));return r||"variant"===this.props.paidExclusiveOverlayExperiment?Object(U.jsx)(N,_objectSpread(_objectSpread({next:function next(){}},c),{},{platformPage:n,currentContentItem:t})):"lesson"===t.type?Object(U.jsx)(L.a,{contentItemSlug:t.slug,isFreeTrack:!1,hideSignUp:!0}):Object(U.jsx)(p.a,{})}},{key:"render",value:function render(){var e=this.props.contentTitle,t=this.state.showInterstitials;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(x.a,{title:e}),t?Object(U.jsx)(P.a,{}):this.renderCourseRouteComponent()]})}}]),CourseContentItem}(i.Component),M=Object(u.connect)((function mapStateToProps(e){return{currentCourse:Object(A.Q)(e),contentTitle:Object(A.k)(e),currentContentItem:Object(A.t)(e),nextContentItems:Object(A.mb)(e),hasNextContent:Object(A.jb)(e),isCourseCompleted:Object(E.b)(e),hasCourseAccess:Object(A.X)(e),hasCourseContentItemAccess:Object(A.Y)(e),contentIds:Object(A.j)(e),interstitialsFeatureFlagEnabled:Object(R.b)(e,"interstitials_techdebt"),paidExclusiveOverlayExperiment:Object(j.X)(e)}}),B)(q);function course_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function course_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?course_ownKeys(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):course_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H={fetchInitialCourseContent:O.b};t.default=Object(u.connect)((function mapStateToProps(e){return{isAnonymous:Object(j.D)(e)}}),H)((function CourseContainer(e){var t=Object(i.useState)(!0),r=Object(s.a)(t,2),n=r[0],c=r[1],u=e.locationParams,O=e.locationQuery,j=e.dispatch,f=e.fetchInitialCourseContent,h=e.isAnonymous;if(Object(i.useEffect)((function(){if(!h){var e=function(){var e=Object(a.a)(o.a.mark((function _callee(){return o.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:c(!1);case 3:case"end":return e.stop()}}),_callee)})));return function fetchData(){return e.apply(this,arguments)}}();c(!0),e()}}),[h,u.trackSlug,f]),h||n)return Object(U.jsx)(p.a,{});return Object(U.jsx)(M,course_objectSpread({navigateToExercise:function navigateToExercise(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=b.d(course_objectSpread(course_objectSpread({},u),{},{sectionType:"exercises",exerciseSlug:e,query:O}));t&&(r=Object(l.redirect)(r)),j(r)}},e))}))}}]);
//# sourceMappingURL=platform-scenes-course~71d1b18b.abc0d33763d0f73990dd.chunk.js.map