(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[376],{mf31:function(e,r,t){"use strict";t.r(r),t.d(r,"WebBrowserContainer",(function(){return Q}));var o=t("q1tI"),n=t.n(o),c=t("/MKj"),a=t("tLXD"),s=t("z9go"),i=t("jY6L"),l=t("VmES"),u=t("yxtj"),b=t("c2gB"),f=t("DZdY"),d=t("yrBZ"),j=t("QqFe"),w=t("hsiM"),h=t("9GW+"),B=t("7mab"),m=t("1Wj3"),O=t("qwNl"),g=t("630U"),p=t("gtj7"),v=t("rePB"),y=t("TSYQ"),x=t.n(y),C="placeholder__8mNBfAlSiCVh2USmiLL4l",_="themeDark__2BBvVKJdrHT-tNocSb689Q",R="componentName__S_6ngicCE_rG7GjmVqmgL",L=t("nKUr"),k=Object(f.a)(j.d,{target:"e1osgqh80",label:"StyledButton"})(Object(g.i)({color:"green",borderColor:"green",minWidth:"8rem",marginTop:"1.25rem"}),""),S=function PlaceHolder(e){var r,t=e.action,o=e.actionButtonEnabled,n=e.actionCallBack,c=e.componentName,a=e.theme,s=void 0===a?"light":a,i=e.icon,l=x()((r={},Object(v.a)(r,C,!0),Object(v.a)(r,_,"dark"===s),r));return Object(L.jsxs)(d.b,{flexGrow:1,flexShrink:0,center:!0,column:!0,className:l,children:[i&&Object(L.jsx)(i,{size:24}),Object(L.jsx)("div",{className:R,children:c}),n?Object(L.jsx)(k,{disabled:!o,onClick:n,children:t}):null]})},U=t("KKCq"),E=t("S6PG"),M=t("2oex"),W=t("GwnQ"),D=t("bCom"),N=t("Z9Sh"),A=function BrowserFooter(){var e=Object(c.useSelector)(M.A),r=Object(N.b)()===N.a.Solution;return e&&["jupyter","python-3_8-increased-memory"].includes(e)?Object(L.jsx)(D.a,{submitMode:W.d.TestOnly,showRunButton:!0,showCopyButton:!1,showSolutionButton:r}):null},G=t("1OyB"),I=t("vuIU"),K=t("JX7q"),T=t("Ji7U"),z=t("md7G"),P=t("foSv"),q="frame__3MwfnSGoAwAWC0BSuKyiV-";function _createSuper(e){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var t,o=Object(P.a)(e);if(r){var n=Object(P.a)(this).constructor;t=Reflect.construct(o,arguments,n)}else t=o.apply(this,arguments);return Object(z.a)(this,t)}}var F=function(e){Object(T.default)(RemoteWebBrowser,e);var r=_createSuper(RemoteWebBrowser);function RemoteWebBrowser(){var e;Object(G.default)(this,RemoteWebBrowser);for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o)),Object(v.a)(Object(K.a)(e),"iframeRef",n.a.createRef()),Object(v.a)(Object(K.a)(e),"handleSendIframeMessage",(function(r){e.getIframe().contentWindow.postMessage(r,"*")})),Object(v.a)(Object(K.a)(e),"getIframe",(function(){return e.iframeRef.current})),Object(v.a)(Object(K.a)(e),"onBrowserMessage",(function(r){e.props.onBrowserMessage(r)})),e}return Object(I.default)(RemoteWebBrowser,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props.bindBrowserListener;window.addEventListener("message",this.onBrowserMessage,!1),this.removeMessageListener=e(this.handleSendIframeMessage)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("message",this.onBrowserMessage),this.removeMessageListener()}},{key:"render",value:function render(){var e=this.props,r=e.refreshCount,t=e.src,o=e.onBrowserLoad,n=e.onBrowserError;return Object(L.jsx)("iframe",{title:"Codecademy Web Browser",ref:this.iframeRef,onLoad:o,onError:n,allowFullScreen:!0,className:q,allow:"geolocation; microphone; camera",src:t},r)}}]),RemoteWebBrowser}(o.Component),V=Object(f.a)("input",{target:"e1a735o50",label:"URLInput"})("background-color:transparent;color:",Object(g.B)("colors.text"),";padding-left:",Object(g.B)("spacing.12"),";flex:1;height:40px;font-size:",Object(g.B)("fontSize.14"),";white-space:nowrap;line-height:40px;border:1px solid ",Object(g.B)("colors.background"),";position:relative;&:focus{outline:0;}"),H=function ThemedWebBrowser(e){var r,t=e.urlBarRef,n=e.browserRef,a=e.bindBrowserListener,l=e.onUrlBarKeyDown,u=e.onUrlBarChange,b=e.onBack,f=e.onRefresh,g=e.onBrowserLoad,v=e.onBrowserError,y=e.onBrowserMessage,x=e.showBrowserBar,C=void 0===x||x,_=e.showPreviewButton,R=e.isBlank,k=e.isReady,M=e.isLoading,W=e.src,D=e.refreshCount,N=e.displayUrl,G=void 0===N?"":N,I=e.toggleFullScreen,K=Object(c.useSelector)(i.c),T=Object(o.useCallback)((function(){Object(s.c)({target:"preview_browser",page_name:K})}),[K]);if(!k)return Object(L.jsx)(d.b,{height:"100%",bg:"gray-900",alignItems:"center",justifyContent:"center",children:Object(L.jsx)(E.a,{})});r=R?Object(L.jsx)(S,{theme:"dark",componentName:"Web Browser",icon:w.a}):Object(L.jsx)(F,{src:W,onBrowserLoad:g,onBrowserMessage:y,onBrowserError:v,bindBrowserListener:a,refreshCount:D,ref:n});var z=Object(L.jsxs)(d.b,{bg:"shadow-solid",height:"3rem",alignItems:"center",children:[Object(L.jsx)(j.c,{"aria-label":"Previous Browser Page",mx:8,icon:h.a,size:"small",onClick:b}),Object(L.jsx)(j.c,{"aria-label":"Refresh Browser Page",mx:8,icon:B.a,size:"small",onClick:f}),Object(L.jsxs)(d.b,{alignItems:"center",justifyContent:"center",flexGrow:1,pr:12,children:[Object(L.jsx)(V,{"aria-label":"URL input",type:"text",value:G,ref:t,placeholder:"Type URL here",onKeyDown:l,onChange:u}),M&&Object(L.jsx)(U.a,{})]}),I&&Object(L.jsx)(j.c,{"aria-label":"Toggle fullscreen",icon:m.a,mx:8,onClick:I,size:"small"}),_&&Object(L.jsx)(j.c,{"aria-label":"Open in new tab",mx:8,icon:O.a,onClick:T,size:"small",target:"_blank",href:Object(p.a)(window.location.href,{preview:!0})})]});return Object(L.jsxs)(d.b,{flexGrow:1,flexDirection:"column",borderWidthLeft:1,borderLeft:"solid",borderColor:"navy-600",children:[C&&z,Object(L.jsx)(d.b,{flexGrow:1,bg:"white",flexDirection:"column",children:r}),Object(L.jsx)(A,{})]})},Q=function WebBrowserContainer(e){var r=e.onLoad,t=void 0===r?function(){}:r,n=e.config,f=(n=void 0===n?{display_url:l.a}:n).display_url,d=n.hide_browser_bar,j=n.show_preview_button,w=e.toggleFullScreen,h=Object(b.c)(),B=h.ready,m=h.host,O=h.createBrowser,g=h.browser,p=void 0===g?{}:g,v=h.changeCounter,y=h.refreshBrowser,x=h.setBrowserUrlBar,C=h.pushBrowserLocation,_=h.navigateBrowserBack,R=h.loadBrowserSuccess,k=h.initializeBrowser,S=h.respondToBrowserMessage,U=p.init,E=p.loading,M=p.refreshCount,W=p.location,D=void 0===W?{}:W,N=p.urlBarValue,A=p.hosts,G=(void 0===A?{}:A).internalUrl,I=D.displayUrl,K=D.internalUrl,T=Object(o.useRef)(null),z=Object(o.useRef)(null),P=Object(o.useRef)(),q=P.current,F=null==p?void 0:p.message,V=Object(a.a)(F),Q=Object(c.useSelector)(i.c),J=function trackBrowserClick(e){Object(s.c)({target:e,page_name:Q})},Y=V===F&&F,Z=Object(o.useMemo)((function(){return!new RegExp(G,"g").test(K)}),[G,K]),X=Object(o.useMemo)((function(){return K}),[M,v]),$=Object(o.useCallback)((function(e){return x(e.target.value)}),[x]),ee=Object(o.useCallback)((function(e){13===e.keyCode&&C({url:N,urlType:"displayUrl"})}),[N,C]),re=Object(o.useCallback)((function(){t(),R()}),[R,t]),te=Object(o.useCallback)((function(e){var r=e.data,t=e.origin;if(G.includes(t))return F&&Object(u.d)(r)?S(F,r):r.location?C({url:r.location,urlType:"internalUrl"}):void 0}),[G,F,S,C]),oe=Object(o.useCallback)((function(e){return P.current=e,function(){return P.current=void 0}}),[P]);return Object(o.useEffect)((function(){O()}),[O]),Object(o.useEffect)((function(){B&&m&&p&&!G&&k({hosts:{internalUrl:m},location:{displayUrl:f}})}),[B,m,f,p,G,k]),Object(o.useEffect)((function(){m&&k({hosts:{internalUrl:m},location:{displayUrl:f}})}),[f,m,k]),Object(o.useEffect)((function(){U&&y()}),[v,U,y]),Object(o.useEffect)((function(){q&&Y&&!E&&!Z&&q(F.data)}),[Y,q,E,Z,F]),Object(L.jsx)(H,{urlBarRef:T,browserRef:z,bindBrowserListener:oe,onUrlBarKeyDown:ee,onUrlBarChange:$,onBack:function onBack(){J("back_button_output"),_()},onRefresh:function onRefresh(){J("refresh_output"),y()},onBrowserLoad:re,onBrowserError:function onBrowserError(){},onBrowserMessage:te,isBlank:!I||!K,isReady:B,isLoading:E,src:X,showBrowserBar:!d,showPreviewButton:!!j,displayUrl:N,refreshCount:M,toggleFullScreen:w})};r.default=Q}}]);
//# sourceMappingURL=platform-components-WebBrowser-WebBrowserContainer~c266ff1b.fb404fb7086550473ec9.chunk.js.map