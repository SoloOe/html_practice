(function(e,h,k,l,g){e[h]=e[h]||{};for(e[h].q=e[h].q||[];g<l.length;)k(l[g++],e[h])})(window,"extole",function(e,h){h[e]=h[e]||function(){h.q.push([e,arguments])}},["log"],0);
extole.define||function(){function e(a){a=g(a);return u[a]}function h(a,b){extole.log("error","[REQUIRE] "+a,b)}function k(a,b){if(a.length)for(var q=0;q<a.length;q++)b(a[q],q);else for(q in a)Object.prototype.hasOwnProperty.call(a,q)&&b(a[q],q)}function l(a,b){var q=[];k(a,function(a,d){q[d]=b(a,d)});return q}function g(a){return"string"!==typeof a?a:/origin-\d/.test(a)?a.substring(a.indexOf("type=")).replace(/version=\d+:/,""):a}function p(a){var b=a.split("/").slice(-1)[0],q=b.length;k(b.toLowerCase(),
function(a){q+=" abcdefghijklmnopqrstuvwxyz1234567890-_.".indexOf(a)});return a.replace("origin","origin-"+q%8)}function c(a){var b=/^extole-creatives:/.test(a),d=/^extole-media:/.test(a),m=/^core-root:\/\//.test(a),q=/^extole-assets:/.test(a),f=/origin\./.test(a),n=/^http:/.test(a),g=/^https:/.test(a);return b?(a=a.slice(17),c("extole-assets:/core-modules/"+a)):q?(a=a.slice(14),c("extole-media:/assets/"+a)):d?(a=a.slice(13),a=extole.CORE_ROOT+a,c(a)):m?(a=a.slice(12),a=extole.CORE_ROOT+a,c(a)):f?
(a=p(a),a+="?site="+window.location.hostname,c(a)):n?(a=a.slice(5),c(a)):g?(a=a.slice(6),c(a)):a}function f(){}function b(){var a="undefined"!==typeof window.opera&&"[object Opera]"===window.opera.toString(),b=document.createElement("script");this.useInteractive=b.attachEvent&&!(b.attachEvent.toString&&0>b.attachEvent.toString().indexOf("[native code"))&&!a}function a(){k(u,function(a){a._fetched?a._defined||a.define():a.fetch()})}function d(a,b,d,m,c){if("$config"!=a){var q=e(a),n=q||new f;q||(q=
g(a),u[q]=n);a&&b&&(n._fetched=!0);n.start=n.start||(new Date).getTime();n.url=n.url||a;n.dependencies=n.dependencies||b;n.config=n.config||m;n.definedCallback=n.definedCallback||d;n.isRequire=n.isRequire||c}}function m(a,b,d,m){a instanceof Array&&(m=d,d=b,b=a,a=void 0);y.addDefine({url:a,dependencies:b,definedCallback:d,config:m})}function n(){v++;return"anonymous_"+v}var u={};f.prototype={getUnresolvedDependencies:function(){var a=[];k(this.dependencies,function(b){"$config"!=b&&(b=e(b),(!b||b&&
!b._defined)&&a.push(b))});return a},getDependencies:function(){var a=this,b=[];k(a.dependencies,function(d){d="$config"==d?a.config||null:e(d).definition||null;b.push(d)});return b},define:function(){function b(b){d.definedCallback=void 0;d.definition=b;d.end=(new Date).getTime();d.timeToDefine=d.end-d.start;d._defining=!1;d._defined=!0;setTimeout(a,1)}var d=this;d.defineStartTime=d.defineStartTime||(new Date).getTime();if(!d._defining&&!d._defined&&d.dependencies)if(d._defining=!0,0<d.getUnresolvedDependencies().length)d._defining=
!1;else{var m=d.getDependencies(),c={isAsync:!1,async:function(){d.isAsync=!0;c.isAsync=d.isAsync;return function(a){b(a)}}};(function(){if(d.definedCallback){var a=d.definedCallback;a=a&&a.apply(c,m);c.isAsync||b(a)}else b(!0)})()}},fetch:function(){var a=this;a._fetching||a._fetched||(a.url?(a._fetching=!0,a.startFetchTime=(new Date).getTime(),y.loadModule(a.url,function(){a._fetching=!1;a.endFetchTime=(new Date).getTime();a.timeToFetch=a.endFetchTime-a.startFetchTime;a._fetched=!0;a.define()})):
h("Tried to fetch a module without a url - dependencies: "+a.dependencies+" definedCallback: "+(a.definedCallback?"exists":"null")+" config: "+a.config))}};b.prototype={defineQueue:[],interactiveScript:null,currentlyAddingScript:null,getInteractiveScript:function(){if(y.interactiveScript&&"interactive"==y.interactiveScript.readyState)return y.interactiveScript;for(var a=document.getElementsByTagName("head")[0].getElementsByTagName("script"),b,d=a.length-1;0<=d;d--){var m=this.getScriptDataUrl(a[d]);
a[d]&&"interactive"==a[d].readyState&&m&&(b=a[d])}return b},scriptUrlAttributeName:"data-extole-require-url",getScriptDataUrl:function(a){return a.getAttribute(this.scriptUrlAttributeName)},setScriptDataUrl:function(a,b){a.setAttribute(this.scriptUrlAttributeName,b)},attachOnLoad:function(a,b){function d(n){var f=a.readyState;if(m&&"interactive"==f)this.interactiveScript=a;else if("load"===n.type||c.test(f))m?a.detachEvent("onreadystatechange",d):a.removeEventListener("load",d,!1),b(n)}b=b||function(){};
var m=this.useInteractive,c="PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;m?a.attachEvent("onreadystatechange",d):a.addEventListener("load",d,!1)},defineTimeout:null,addDefine:function(a){if(a.url)a.url=c(a.url);else{var b=this.currentlyAddingScript||this.getInteractiveScript();this.useInteractive&&b&&(b=this.getScriptDataUrl(b),a.url=b,this.interactiveScript=null)}a.dependencies=l(a.dependencies,c);this.useInteractive&&!a.url&&h("defines should not be missing a url in ie.");
this.defineQueue.push(a);this.defineTimeout&&clearTimeout(this.defineTimeout);var d=this;this.defineTimeout=setTimeout(function(){d.intakeDefines()},1)},intakeTimeout:null,intakeDefines:function(){for(var b=[],m;m=this.defineQueue.shift();){var c=[];k(m.dependencies,function(a){a&&c.push(a)});m.url&&e(m.url);m.url||b.push("deps "+m.dependencies);k(c,function(a){d(a)});d(m.url,c,m.definedCallback,m.config,m.isRequire)}this.intakeTimeout&&clearTimeout(this.intakeTimeout);this.intakeTimeout=setTimeout(a,
1)},loadModule:function(a,b){var d=document.createElement("script");d.async=!0;d.crossOrigin="anonymous";this.setScriptDataUrl(d,a);var m=this;this.attachOnLoad(d,function(){clearTimeout(c);if(!m.useInteractive){for(var d,n=m.defineQueue.length-1;0<=n;n--)m.defineQueue[n].url||(d&&h("Multiple anonymous modules loaded in one script - "+a),d=m.defineQueue[n]);d&&(d.url=a)}m.intakeDefines();b&&b(null)});d.src=a;var c=setTimeout(function(){extole.log("warn","[REQUIRE] Module did not load within 2000ms: ",
{moduleUrl:a})},2E3);this.currentlyAddingScript=d;var n=document.getElementsByTagName("head")[0]||document.head;n?n.appendChild(d):extole.log("warn","[REQUIRE] <head> element not found on trying to load "+a,void 0);this.currentlyAddingScript=void 0}};var y=new b;m.getModule=function(a){return e(a)};var v=0;extole.define=m;extole.require=function(a,b){y.addDefine({url:n(),dependencies:a,definedCallback:b,isRequire:!0})};extole.define("extole-require",[],function(){return{resolveUrl:c}});setTimeout(function(){var a=
!1,b=[];k(u,function(d){d._defined||(a=!0);b.push({defineStartTime:d.defineStartTime,dependencies:d.dependencies,end:d.end,start:d.start,isRequire:d.isRequire,timeToDefine:d.timeToDefine,url:d.url,_defined:d._defined,_defining:d._defining,_fetched:d._fetched})});a&&extole.DUMP_REQUIRE_MODULES_ON_ERROR&&extole.log("error","After 7000ms there are unresolved extole-require modules.  ###"+JSON.stringify(b)+"###")},7E3)}();(function(){})();
extole.define("extole-uri-parser",["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/collection.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/uri.js"],function(e,h){var k=/^extole_(?!zone)/,l=/^extole_zone_/;return new function(){function g(f){var b={};f=f||c;e.each(f,function(a,d){k.test(d)&&(d=d.replace(k,""),b[d]=a)});return b}function p(){var c,b,a={};this.withName=function(a){c=a;return this};this.withElementId=function(a){b=
a;return this};this.withData=function(b,m){a[b]=m;return this};this.build=function(){var d={};c&&(d.name=c);b&&(d.elementId=b);a&&(d.data=a);return d}}var c=h.deserialize(location.search);this.parseUriZoneDefinition=function(f){var b=new p,a;f=f||c;var d=g(f);e.each(d,function(a,d){b.withData(d,a)});e.each(f,function(d,c){l.test(c)&&(c=c.replace(l,""),"name"===c?(a=!0,b.withName(d)):"element_id"===c?b.withElementId(d):b.withData(c,d))});return a?b.build():null};this.parseGlobalZoneParameters=g}});
(function(e,h,k,l,g){e[h]=e[h]||{};for(e[h].q=e[h].q||[];g<l.length;)k(l[g++],e[h])})(window,"extole",function(e,h){h[e]=h[e]||function(){h.q.push([e,arguments])}},["createZone","log"],0);
(function(){var e=[{name:"Branded Program Domain",programDomain:"refer.codecademy.com",sitePatterns:["refer.codecademy.com","codecademy.com","*.codecademy.com","*localhost*"],siteRegexPatterns:["refer\\.codecademy\\.com\\.?$","codecademy\\.com\\.?$",".*\\.codecademy\\.com\\.?$",".*localhost.*\\.?$"]}];extole.CORE_ROOT="https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123";extole.CORE_CONFIG={backendTargetingEnabled:!0,isZonePostEnabled:!0,isCookieConsentEnabled:!1,isJsCreativeRespondsWithHtmlEnabled:!1,
isGlobalZoneParametersEnabled:!0,isAccessTokenIncludedInResponseEnabled:!0,cookieConsentPolicy:"COOKIE_CONSENT_OR_SESSION_COOKIE",zonePostEnabled:!0,cookieConsentEnabled:!1};extole.CLIENT_ID="21243602";extole.BUILD_DATE="1678835531136";extole.VERSION="6.0";extole.IS_DEBUG_ENABLED=extole.debug||/[?&]extole_debug=true(&|$)/.test(location.search);extole.PROGRAM=function(){function h(b,a){b=Error.call(this,b);this.name="ExtoleError";this.message=b.message;this.stack=b.stack;this.code=a}function k(b,a){if(b.length)for(var d=
0;d<b.length;d++)a(b[d],d);else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&a(b[d],d)}function l(b,a){var d=[];k(b,function(b){(b=a(b))&&(d[d.length]=b)});return d}function g(b,a){a=a||[];var d=!1;k(a,function(a){(new RegExp(a)).test(b)&&(d=!0)});return d}function p(){extole.require(["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/uri.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/ajax.js"],function(b,a){var d=extole.CORE_ROOT;
b=d.replace(/(https?:\/\/[a-z-\.]+)(\/.*)/,"$1")+"/_extole_core.gif"+b.serialize({core_root:d,referer:window.location.hostname});a({url:b})})}h.prototype=Error();h.prototype.constructor=h;var c=function(b){var a=window.location.hostname;return l(b,function(b){if(g(a,b.siteRegexPatterns))return b})}(e),f=c[0];if(!f)throw p(),new h("No program domain is configured for hostname: "+window.location.hostname+" unable to use Extole API","site_configuration_error");1<c.length&&extole.log("warn","Multiple programs matched hostname: "+
window.location.hostname+" programs: "+JSON.stringify(c));return f}();extole.require(["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/uri.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js","create-zone-executor"],function(h,e,l){function g(){function b(b){var d=b[0];"function"===typeof a[d]?(a[d].apply(null,b[1]),extole.q.history.push({name:b[0],args:b[1],timestamp:Date.now(),stack:Error().stack})):e.warn("Unable to execute method: "+
d+", it is not implemented.")}var a={log:function(){var a=Array.prototype.slice.call(arguments),b=a[0];"function"===typeof e[b]&&e[b].apply(null,a.slice(1))},createZone:l.initiateExecution};for(extole.q.history=[];extole.q.length;)b(extole.q.shift());extole.q.push=b}function p(){extole.require(["extole-uri-parser"],function(b){var a=h.deserialize(location.search);(b=b.parseUriZoneDefinition(a))&&extole.createZone(b)})}function c(){if("function"===typeof window.onerror)var b=window.onerror;window.onerror=
function(a,d,c,n,f){if(b)try{b(a,d,c,n,f)}catch(q){}d=d||window.location.href||"no_source_or_location.href";f=f&&f.stack?f.stack:"no_error.stack";var m=[],g=JSON.stringify({MESSAGE:a,SOURCE:d,LINE_NUMBER:c,COLUMN_NUMBER:n,STACK_TRACE:f},function(a,b){if(null!==b&&"object"===typeof b){if(0<=m.indexOf(b))return;m.push(b)}return b});c=extole.PROGRAM.programDomain.split(".").join("\\.");c=new RegExp("^(http|https):\\/\\/("+c+"|(([A-Za-z0-9-]{1,}\\.){1,}|)(xtlo\\.net|extole(\\.com|\\.io)))(?=(\\/|\\?|$))");
((f+a).match(/extole/i)||c.test(d))&&extole.require(["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js"],function(a){a.error("Unhandled exception",JSON.parse(g))})}}function f(){extole._bootstrapped=!0;c();g();p()}extole.bootstrap=f;extole._bootstrapped||f();if("undefined"!==typeof window.extoleAsyncInit)try{window.extoleAsyncInit()}catch(b){extole.require(["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js"],function(a){a.error("Error executing extended core javascript. Message : "+
b.message+" Stack: "+b.stack)})}})})();
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/ExtoleError.js",[],function(){function e(e,l,g,p){e=Error.call(this,e);this.name="ExtoleError";this.message=e.message||"no_message";this.stack=Error().stack;this.code=l||"extole_error";this.data=g||{};this.logLevel=0<=h.indexOf(p)?p:"error"}var h=["debug","info","warn","error"];e.prototype=Error();e.prototype.constructor=e;e.prototype.toString=function(){return this.name+" ["+this.logLevel+"]: message: "+
this.message+"; code: "+this.code+"; data: "+JSON.stringify(this.data,null,4)+"; stack trace: "+this.stack+";"};return e});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/collection.js",["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/ExtoleError.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/type.js"],function(e,h){function k(g,e){var c;if(g.length===Number(g.length))for(c=0;c<g.length;c++){var f=e(g[c],c);if(!1===f)return!1}else for(c in g)if(Object.prototype.hasOwnProperty.call(g,c)&&(f=e(g[c],c),
!1===f))return!1}function l(g){if(!g||"object"!==typeof g&&!h.isPlainFunction(g))g={};for(var e=1;e<arguments.length;e++)if(h.isPlainObject(arguments[e]))for(var c in arguments[e]){var f=arguments[e][c];f!==g&&void 0!==f&&(h.isPlainObject(f)&&h.isPlainObject(g[c])?f=l(g[c],f):h.isArray(f)&&h.isArray(g[c])&&g[c].concat&&(f=g[c].concat(f)),g[c]=f)}return g}k.BREAK=!1;return{each:k,map:function(g,l){function c(a,d){b=[];k(a,function(a,c){b.push(d(a,c))})}function f(a,d){b={};k(a,function(a,c){b[c]=d(a,
c)})}var b;if(h.isArray(g))c(g,l);else if(h.isPlainObject(g))f(g,l);else throw new e(g+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return b},filter:function(g,l){function c(a,d){b=[];k(a,function(a,c){d(a,c)&&b.push(a)})}function f(a,d){b={};k(a,function(a,c){d(a,c)&&(b[c]=a)})}var b;if(h.isArray(g))c(g,l);else if(h.isPlainObject(g))f(g,l);else throw new e(g+" argument must be type object or array","INVALID_ARGUMENT_EXCEPTION");return b},merge:l,clone:function(g){return JSON.parse(JSON.stringify(g))},
flatten:function(g){function e(f,b){if(h.isPlainObject(f))k(f,function(a,c){var d=b.slice();d.push(c);e(a,d)});else{var a=b.join(".");c[a]=f}}if(!h.isPlainObject(g))return g;var c={};e(g,[]);return c},find:function(g,e){var c;k(g,function(f,b){if(e(f,b))return c=f,k.BREAK});return c},reverse:function(g){var e=[];if(!g||g.length!==Number(g.length))return g;for(var c=g.length-1;0<=c;c--)e.push(g[c]);return e},nashornToJs:function(g){if(h.isPlainJs(g)||!g)return g;if(h.isJavaMap(g)){var e={};for(var c in g)e[c]=
g[c]}else if(h.isNumber(g.length))e=[],k(g,function(c,b){e[b]=c});else return g;return e},intersection:function(g,e){var c=[];k(g,function(f){0>e.indexOf(f)||0<=c.indexOf(f)||c.push(f)});return c},difference:function(g,e){var c=[];k(g,function(f){0<=e.indexOf(f)||0<=c.indexOf(f)||c.push(f)});return c}}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/cookie.js",["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js"],function(e){function h(c){try{return decodeURIComponent(c.replace(g," "))}catch(b){return e.info("** cookie.decode ** Cookie error for: "+c,{error:b,message:b.message,stack:b.stack,cookiePart:c}),""}}function k(f){f=h(f);return 0===f.indexOf('"')?f.slice(1,-1).replace(p,'"').replace(c,"\\"):f}function l(c){if(!c||
!c.toUTCString){var b=new Date;b.setDate(b.getDate()+("number"===typeof c?c:0));return b}return c}var g=/\+/g,p=/\\"/g,c=/\\\\/g;return function(c,b,a){if(void 0!==b)return a=a||{},document.cookie=[encodeURIComponent(c),"=",encodeURIComponent(b),a.expires?"; expires="+l(a.expires).toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.samesite?"; samesite="+a.samesite:"","; secure"].join("");a:{b=document.cookie?document.cookie.split("; "):[];a=c?null:{};for(var d=0,m=b.length;d<
m;d++){var n=b[d].split("="),f=h(n[0]);if(!c)a[f]=k(n[1]);else if(c===f){c=k(n[1]);break a}}c=a}return c}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/device-type.js",[],function(){function e(e){return h.test(e)}var h=/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Dolphin|Fennec|(hpw|web)OS|Zune|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Silk-Accelerated|Skyfire|NetFront/i,k=/WebView|\swv|(iPhone|iPod|iPad)(?!.*Safari)|Android.*(Version\/\d+\.\d+\s)|Linux; U; Android/i;return{isMobile:e,isDesktop:function(h){return!e(h)},isWebview:function(e){return k.test(e)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/dom.js",["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js"],function(e){function h(a,b){return(b||document).querySelectorAll(a)}function k(a,b){return h(a,b)[0]}function l(a,d){function m(){clearTimeout(g);d(n);p.removeListener(n,"load",m)}d=d||function(){};if(b[a]||!a)return d(b[a]),b[a]||null;b[a]=document.createElement("link");var n=b[a];c.setAttribute(n,"rel",
"stylesheet");c.setAttribute(n,"href",a);f.append(k("head"),n);p.addListener(n,"load",m);var g=setTimeout(function(){e.warn("Load timeout reached for stylesheet: ",{url:a});m()},5E3);return n}var g={each:function(a,b){var d;if(a.length===Number(a.length))for(d=0;d<a.length;d++){var c=b(a[d],d);if(!1===c)return!1}else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(c=b(a[d],d),!1===c))return!1},extend:function(){var a,b,c=arguments[0]||{},f=1,g=arguments.length,e=!1,h=this.extend;"boolean"===
typeof c&&(e=c,c=arguments[1]||{},f=2);for("object"===typeof c||this.isFunction(c)||(c={});f<g;f++){var l=arguments[f];if(null!==l)for(a in l){var k=c[a];var r=l[a];c!==r&&(e&&r&&(this.isPlainObject(r)||(b=this.isArray(r)))?(b?(b=!1,k=k&&this.isArray(k)?k:[]):k=k&&this.isPlainObject(k)?k:{},c[a]=h(e,k,r)):void 0!==r&&(c[a]=r))}}return c},isFunction:function(a){return a&&"function"===typeof a&&a.call&&a.apply},isPlainObject:function(a){if("[object Object]"!==String(a)||a.nodeType||a.window&&a.window==
a)return!1;try{if(a.constructor&&!Object.prototype.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}return!0},isArray:function(a){return a instanceof Array}};g.each.BREAK=!1;var p=function(){function a(a,b,c){for(var d=[],f=0;f<u.length;f++){var m=u[f];m.element==a&&m.eventType==b&&m.listener==c&&d.push({index:f,eventListener:m})}return d}function b(a){for(var b=[],c=0;c<u.length;c++){var d=u[c];d.element===a&&b.push(d)}return b}function c(a){this.originalEvent=
a;this.type=a.type;this.keyCode=a.keyCode;this.target=a.srcElement?a.srcElement:a.target}function f(b,c,d){d=a(b,c,d);0>=d.length?e.info("events.remove - Couldn't find exiting event listener for type \""+c+'" listener on element '+b):g.each(d,function(a){var d=a.index;a=a.eventListener;b.removeEventListener?b.removeEventListener(c,a.listenerWrapper,!1):b.detachEvent("on"+c,a.listenerWrapper);u.splice(d,1)})}var u=[];c.prototype={preventDefault:function(){var a=this.originalEvent;a.preventDefault?
a.preventDefault():a.returnValue=!1},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation&&a.stopPropagation();a.cancelBubble=!0}};return{addListener:function(b,d,f){function m(a){g&&(a=window.event);return f.call(b,new c(a))}if(0<a(b,d,f).length)e.warn("events.add - Listener already exists for event "+d+" on element "+b);else{var g=!b.addEventListener;u.push({element:b,eventType:d,listener:f,listenerWrapper:m});b.addEventListener?b.addEventListener(d,m,!1):b.attachEvent("on"+d,m)}},
triggerEvent:function(a,b,d){var c=document.createEvent("Event");d=g.extend({},d);var f=!1===!d.bubbles,m=!0===d.cancelable;delete d.bubbles;delete d.cancelable;c.initEvent(b,f,m);g.extend(c,d);a.dispatchEvent(c)},removeListener:f,clearListeners:function(a){a=b(a);g.each(a,function(a){f(a.element,a.eventType,a.listener)})}}}(),c=function(){function a(a){a=a.className;var b={};if(!a)return b;g.each(a.split(" "),function(a){b[a]=1});return b}function b(a){var b="";g.each(a,function(a,d){b+=" "+d});
return b.slice(1)}return{setAttribute:function(a,b,d){a.setAttribute(b,d);a[b]=d},getAttribute:function(a,b){return a.getAttribute(b)},removeAttribute:function(a,b){return a.removeAttribute(b)},addClass:function(d,c){var f=a(d);f[c]||(f[c]=1,d.className=b(f))},removeClass:function(d,c){var f=a(d);delete f[c];d.className=b(f)},getClassNames:function(a){return a.className.split(" ")}}}(),f=function(){function a(a){var b=document.createDocumentFragment(),d=document.createElement("div");d.innerHTML=a;
g.each(d.childNodes,function(a){1==a.nodeType&&b.appendChild(a)});return b}function b(a){var b;g.each(a.childNodes,function(a){if(!b&&1==a.nodeType)return b=a,g.each.BREAK});return b}return{prepend:function(d,c){var f=b(d),g=c;"string"===typeof c&&(g=a(c));f?d.insertBefore(g,f):d.appendChild(g)},append:function(b,d){var c=d;"string"===typeof d&&(c=a(d));b.appendChild(c)}}}(),b={};return{addEventListener:p.addListener,removeEventListener:p.removeListener,triggerEvent:p.triggerEvent,clearEventListeners:p.clearListeners,
getAttribute:c.getAttribute,setAttribute:c.setAttribute,removeAttribute:c.removeAttribute,addClass:c.addClass,removeClass:c.removeClass,getClassNames:c.getClassNames,prepend:f.prepend,append:f.append,query:h,queryFirst:k,isVisible:function(a,b){return!!(k(a,b)||{}).offsetParent},injectStylesheet:l,injectStylesheets:function(a,b){function d(a){--c||b(f)}b=b||function(){};if(0===a.length)b();else{var c=0,f=[];g.each(a,function(a){c++;setTimeout(function(){f.push(l(a,d))},1)})}},scrollIntoViewIfNeeded:function(a,
b){function d(a,b){return{start:a,length:b,end:a+b}}function c(a,d){return!1===b||d.start<a.end&&a.start<d.end?Math.min(a.start,Math.max(d.start,a.end-d.length)):(a.start+a.end-d.length)/2}function f(a,b){return{x:a,y:b,translate:function(d,c){return f(a+d,b+c)}}}function g(a,b){for(;a;)b=b.translate(a.offsetLeft,a.offsetTop),a=a.offsetParent;return b}var e=g(a,f(0,0)),h=f(a.offsetWidth,a.offsetHeight);a=a.parentNode;for(var l;a instanceof HTMLElement;)l=g(a,f(a.clientLeft,a.clientTop)),a.scrollLeft=
c(d(e.x-l.x,h.x),d(a.scrollLeft,a.clientWidth)),a.scrollTop=c(d(e.y-l.y,h.y),d(a.scrollTop,a.clientHeight)),e=e.translate(-a.scrollLeft,-a.scrollTop),a=a.parentNode}}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/event-bus.js",[],function(){function e(){function e(c,f,b,a){if(!b)return!0;if("object"===typeof b){for(var d in b)c[f].apply(c,[d,b[d]].concat(a));return!1}if(p.test(b)){b=b.split(p);d=0;for(var g=b.length;d<g;d++)c[f].apply(c,[b[d]].concat(a));return!1}return!0}function g(c,f){var b,a=-1,d=c.length,g=f[0],e=f[1],h=f[2];switch(f.length){case 0:for(;++a<d;)(b=c[a]).callback.call(b.ctx);break;case 1:for(;++a<
d;)(b=c[a]).callback.call(b.ctx,g);break;case 2:for(;++a<d;)(b=c[a]).callback.call(b.ctx,g,e);break;case 3:for(;++a<d;)(b=c[a]).callback.call(b.ctx,g,e,h);break;default:for(;++a<d;)(b=c[a]).callback.apply(b.ctx,f)}}this._events={};var p=/\s+/;this.on=function(c,f,b){if(!e(this,"on",c,[f,b])||!f)return this;this._events||(this._events={});(this._events[c]||(this._events[c]=[])).push({callback:f,context:b,ctx:b||this});return this};this.off=function(c,f,b){var a,d,g;if(!this._events||!e(this,"off",
c,[f,b]))return this;if(!c&&!f&&!b)return this._events=void 0,this;var h=c?[c]:k.keys(this._events);var l=0;for(d=h.length;l<d;l++)if(c=h[l],a=this._events[c]){var p=[];this._events[c]=p;if(f||b){var v=0;for(g=a.length;v<g;v++){var q=a[v];(f&&f!==q.callback&&f!==q.callback._callback||b&&b!==q.context)&&p.push(q)}}p.length||delete this._events[c]}return this};this.once=function(c,f,b){function a(){var g=h.call(arguments);d.off(c,a,b);f.apply(this,g)}var d=this;this.on(c,a,b);return this};this.trigger=
function(c){if(!this._events)return this;var f=h.call(arguments,1);if(!e(this,"trigger",c,f))return this;var b=this._events[c],a=this._events.all;b&&g(b,f);a&&g(a,arguments);return this}}var h=Array.prototype.slice,k={isPlainObject:function(e){if("[object Object]"!==String(e)||e.nodeType||e.window&&e.window==e)return!1;try{if(e.constructor&&!Object.prototype.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}return!0},keys:function(e){if(!this.isPlainObject(e))return[];
var g=[],h;for(h in e)Object.prototype.hasOwnProperty.call(e,h)&&g.push(h);return g},_idCounter:0,uniqueId:function(e){var g=String(++this._idCounter);return e?e+g:g}};return{create:function(){return new e}}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js",[],function(){function e(a,b,d){g||(g=b.getGlobalServices().getJsLoggingService());g[a](d)}function h(g,e,h){var m=String(extole.CORE_ROOT).match(/coreAssetsVersion=(\d+)/);h=h||{};h.pageId=c;h.referer=f;h.coreAssetsVersion=m&&m[1];try{var n=[e||"no message","START_JSON",JSON.stringify(h),"END_JSON"].join(" ")}catch(q){l("Failed to stringify log's json data",{exception:q});return}if(!extole.LOG_EXCLUDE_REGEX||
!n.match(extole.LOG_EXCLUDE_REGEX)){d[n]=++d[n]||1;if(b[g]>=b[extole.LOG_LEVEL_CONSOLE]&&(e=g+" "+n,window.console))if(window.console[g.toLowerCase()])window.console[g.toLowerCase()](e);else window.console.log(e);b[g]>=b[extole.LOG_LEVEL_REMOTE]&&(e=d[n],a[e]&&k(g,n+(1<e?" log count: "+e:"")))}}function k(a,b){extole.require(["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/api.js"],function(d){d.post("/api/v4/debug/logs",{level:a,message:b},null,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})})}
function l(a,b){h("ERROR",a,b)}var g;if("undefined"===typeof window)return{debug:function(a,b){e("debug",a,b)},info:function(a,b){e("info",a,b)},warn:function(a,b){e("warn",a,b)},error:function(a,b){e("error",a,b)},LOGGING_ENDPOINT:"/api/v4/debug/logs"};var p=extole.IS_DEBUG_ENABLED?"DEBUG":"OFF",c=String((new Date).getTime()),f=window.location.href,b={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4},a={1:!0,3:!0,10:!0,30:!0,100:!0,250:!0,500:!0,1E3:!0};extole.LOG_EXCLUDE_REGEX=extole.LOG_EXCLUDE_REGEX||void 0;
extole.LOG_LEVEL_CONSOLE=extole.LOG_LEVEL_CONSOLE||p;extole.LOG_LEVEL_REMOTE=extole.LOG_LEVEL_REMOTE||"WARN";var d={};return{debug:function(a,b){h("DEBUG",a,b)},info:function(a,b){h("INFO",a,b)},warn:function(a,b){h("WARN",a,b)},error:l,LOGGING_ENDPOINT:"/api/v4/debug/logs"}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/Timer.js",[],function(){return function(){var e=this,h;this.start=function(){if(h)throw Error("Timer.start has already been called");h=new Date;return e};this.getElapsedTime=function(){if(!h)throw Error("Timer has not been started");return new Date-h}}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/type.js",[],function(){function e(e,g){return function(l){return h(e,l,g)}}function h(e,g,h){h=h||{};e=Object.prototype.toString.call(g)==="[object "+e+"]";g=g&&h.construct?g.constructor===h.construct:!0;return(h.negate?!e:e)&&g}var k=/\[object (Function|Array|String|Boolean|Number|Undefined|Null)\]/;return{isPlainJs:function(e){return this.isPlainObject(e)||k.test(Object.prototype.toString.call(e))},isJavaMap:function(e){return"undefined"!==
typeof Java&&Java.type?e instanceof Java.type("java.util.Map"):!1},isPlainObject:e("Object",{construct:Object}),isPlainFunction:e("Function"),isArray:e("Array"),isString:e("String"),isBoolean:e("Boolean"),isNumber:e("Number"),isUndefined:e("Undefined"),isDefined:e("Undefined",{negate:!0}),isNull:e("Null"),test:h}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/uri.js",["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/collection.js"],function(e){function h(c){var f={};(function m(a,d){for(var c in a){var e=a[c],g=(d?d+".":"")+c;"[object Object]"===Object.prototype.toString.call(e)?m(e,g):"__proto__"!==g&&(f[g]=e)}})(c);return f}function k(c){try{return decodeURIComponent(c)}catch(f){return c}}function l(c,f,b){f=(f||[]).concat("object"===
typeof extole&&extole.PROGRAM?extole.PROGRAM.siteRegexPatterns:[]);b=g(b||location.href);c=g(c);return(/^https?:\/\//.test(c)?e.find(f,function(a){var b=p.exec(c);return(new RegExp(a)).test(b&&b[1])}):1)?c:b}function g(c){return c.replace(/(j|%4A|%6A)(a|%41|%61)(v|%56|%76)(a|%41|%61)(s|%53|%73)(c|%43|%63)(r|%52|%72)(i|%49|%69)(p|%50|%70)(t|%54|%74)(:|%3A)/gi,"")}var p=/^https?:\/\/([^/:?#]+)/i;return{serialize:function(c){var f="",b;for(b in c)f+="&"+encodeURIComponent(b)+"="+encodeURIComponent(String(c[b]));
return f.replace(/^&/,"?")},deserialize:function(c){var f={};if(!c)return f;c=(c.match(/^\?/)?c.slice(1):c).split("&");for(var b=0;b<c.length;b++){var a=c[b].split("="),d=k(a[0]);a=k(a[1]);"__proto__"!==d&&(f[d]=a)}return f},objectToDotNotation:h,dotNotationToObject:function(c){var f={};c=h(c);for(var b in c){for(var a=f,d=b.split("."),e=d.pop();d.length;){var g=d.shift();"__proto__"!==g&&(a[g]=a[g]||{},a=a[g])}"__proto__"!==e&&(a[e]=c[b])}return f},decodeComponent:k,encodeComponent:function(c){return encodeURIComponent(c)},
getSafeRedirectUrl:l,executeSafeRedirect:function(c,f,b){window.location.href=l(c,f,b)}}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/ajax.js",["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/collection.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/uri.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/type.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js"],function(e,h,k,l){function g(b,
a){function d(){4!==b.readyState||A||(A=!0,String(b.status||200).match(/^[23]/)?"function"===typeof z?z.call(b,b.responseText,b):l.warn("'complete' callback must be a function."):C.call(b,b.statusText,b.status),g())}function c(a){A||(A=!0,l.error("Error with url "+x+"= "+p.join(","),f(a)),C.call(b,b.statusText,b.status))}function f(d){return{eventType:d&&d.type||null,options:a,readyState:b.readyState,response:b.response,responseText:b.responseText,responseType:b.responseType,responseURL:b.responseURL,
responseXML:b.responseXML,status:b.status,statusText:b.statusText,timeout:b.timeout,responseHeaders:b.getAllResponseHeaders()}}function g(a){0>x.indexOf(l.LOGGING_ENDPOINT)&&l.debug("ajax request complete",f(a))}var p=Array.prototype.slice.call(arguments),v=a.headers||{},q=a.xhrFields||{},x=a.url||"",r=a.data||"",t=(a.type||"get").toUpperCase(),z=a.complete||function(){},C=a.error||function(){};k.isPlainObject(r)&&("GET"===t?(x+=h.serialize(r),r=null):r=JSON.stringify(r));b.open(t,x,!0);e.merge(b,
q);e.each(v,function(a,d){try{b.setRequestHeader(d,a)}catch(E){l.error("AJAX ERROR: Couldn't set request header "+d+" to "+a)}});var A=!1;b.onload=d;b.onreadystatechange=d;b.onerror=c;b.ontimeout=c;b.onabort=g;b.send(r)}function p(b){e.each(b,function(a,d){"content-type"===d.toLowerCase()&&delete b[d]})}function c(b){b=b||{};var a=!1;for(var d=0;d<f.length;d++){try{a=f[d]()}catch(m){continue}break}g(a,b);return a}var f=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},
function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];c.convertToFormUrlEncoded=function(b,a){function d(a){var b={};e.each(a,function(a,c){c=0<=c.indexOf(".")?'"'+c+'"':c;k.isPlainObject(a)&&(a=d(a));b[c]=a});return b}var c=[];p(b);b["content-type"]="application/x-www-form-urlencoded";a=d(a);a=e.flatten(a);e.each(b,function(a,d){"content-type"!==d.toLowerCase()&&(c.push("::headers."+d+"="+a),delete b[d])});e.each(a,function(a,b){k.isUndefined(a)||
c.push(encodeURIComponent(b)+"="+encodeURIComponent(a))});return c.join("&")};c.convertToMultipartFormData=function(b,a){var d=new FormData;e.each(a,function(a,b){d.append(b,a)});p(b);return d};return c});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/program.js",[],function(){return{getName:function(){return extole.PROGRAM.name},getProgramDomain:function(){return extole.PROGRAM.programDomain},getSitePatterns:function(){return extole.PROGRAM.sitePatterns},getSiteRegexPatterns:function(){return extole.PROGRAM.siteRegexPatterns},getProtocol:function(){return"https://"}}});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/token-store.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/ExtoleError.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/collection.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/event-bus.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/cookie.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/ajax.js".split(" "),
function(e,h,k,l,g,p){function c(){function c(){w[a.MEMORY]=w[a.MEMORY]||new x;w[a.COOKIE]=w[a.COOKIE]||new r;w[a.LOCAL_STORAGE]=w[a.LOCAL_STORAGE]||new t;extole.COOKIES_DISABLED&&(w[a.COOKIE].remove(),delete w[a.COOKIE]);extole.LOCAL_STORAGE_ALWAYS_ENABLED||extole.LOCAL_STORAGE_ENABLED_WHEN_CONSENTED||extole.LOCAL_STORAGE_ENABLED_WHEN_UNCONSENTED||(w[a.LOCAL_STORAGE].remove(),delete w[a.LOCAL_STORAGE])}function n(a){function b(c,f){d+=1;c?5>d?u(b):(c="Failed to fetch access token after 5 attempts. Last Error: "+
c.message,k.error(c),a(Error(c))):a(null,f)}var d=0;u(b)}function u(a){y("POST","/api/v5/token",null,function(b,c){a(b,c)})}function y(a,b,c,d){function f(a,b){try{var c=JSON.parse(a)}catch(H){b(H);return}b(null,c)}c=c||v();var g="https://"+extole.PROGRAM.programDomain+b+(c?"?access_token="+c:"");p({url:g,type:a,headers:{"content-type":"application/json"},complete:function(a){f(a,d)},error:function(c,k){var l=this,m="Api request to "+b+" failed: "+k+" "+c,r={method:a,url:g,statusText:c||null,http_status_code:k||
null};f(l.responseText,function(a,b){if(a){a="Failed to parse api error response as json";var c="json_parse_error";b=h.merge({response:l.responseText},r)}else a=b.message||m,c=b.code||"failed_api_request",b=h.merge({},b,r);d(new e(a,c,b))})}})}function v(){var a=B===b.YEAR?A():D();return(a=h.find(a,function(a){a=a.get();return!("string"!==typeof a||"undefined"===a||"null"===a||!a.length)}))?a.get():null}function q(a,c){var d=v();if(!a&&d)a=d;else if(!a&&!d)return;var f=d!==a;B=Object.prototype.hasOwnProperty.call(b,
c)&&c||(f||!B?z():B);C(B);h.each(B===b.YEAR?A():D(),function(b){b.set(a,B)});f&&E.trigger("change:access_token");d&&f&&k.debug("ACCESS_TOKEN_CHANGE - the access token changed from: "+d+", to: "+a)}function x(){var a={};this.get=function(){return a.extole_access_token};this.set=function(b){a.extole_access_token=b};this.remove=function(){delete a.extole_access_token}}function r(){this.get=function(){return g("extole_access_token")};this.set=function(a,b){g("extole_access_token",a,{expires:d[b.toUpperCase()],
path:"/",samesite:"strict"})};this.remove=function(){g("extole_access_token","",{expires:-1,path:"/"})}}function t(){var a;(function(){var b="test"+(new Date).getTime();try{localStorage.setItem(b,b),localStorage.removeItem(b)}catch(G){a=!1;return}a=!0})();this.get=function(){return a?localStorage.getItem("extole_access_token"):null};this.set=function(b){a&&localStorage.setItem("extole_access_token",b)};this.remove=function(){a&&localStorage.removeItem("extole_access_token")}}function z(){if(extole.CORE_CONFIG.isCookieConsentEnabled)switch(extole.CORE_CONFIG.cookieConsentPolicy){case f.COOKIE_CONSENT_OR_SESSION_COOKIE:return b.SESSION;
case f.COOKIE_CONSENT_OR_NO_COOKIE:return b.NO_COOKIE;default:return b.NO_COOKIE}return b.YEAR}function C(){var a=B===b.YEAR?A():D();h.each(w,function(b){0>a.indexOf(b)&&b.remove()})}function A(){var b=[a.MEMORY];Object.prototype.hasOwnProperty.call(w,a.COOKIE)&&b.push(a.COOKIE);(extole.LOCAL_STORAGE_ENABLED_WHEN_CONSENTED||extole.LOCAL_STORAGE_ALWAYS_ENABLED)&&b.push(a.LOCAL_STORAGE);return b.map(function(a){return w[a]})}function D(){var b=[a.MEMORY];extole.CORE_CONFIG.cookieConsentPolicy===f.COOKIE_CONSENT_OR_SESSION_COOKIE&&
Object.prototype.hasOwnProperty.call(w,a.COOKIE)&&b.push(a.COOKIE);(extole.LOCAL_STORAGE_ENABLED_WHEN_UNCONSENTED||extole.LOCAL_STORAGE_ALWAYS_ENABLED)&&b.push(a.LOCAL_STORAGE);return b.map(function(a){return w[a]})}var B,E=l.create(),w={};c();this.fetch=function(a){a=a||function(){};n(function(b,c){var d=c.access_token;d&&q(d);a(b,c,B)})};this.getTokenDetails=function(a){a=a||function(){};y("GET","/api/v5/token",v(),a)};this.get=v;this.set=q;this.remove=function(){B=z();h.each(w,function(a){a.remove()})};
this.setUnconsented=function(){B=z();q()};this.initializeStores=c;this.events=E}var f={COOKIE_CONSENT_DISABLED:"COOKIE_CONSENT_DISABLED",COOKIE_CONSENT_OR_SESSION_COOKIE:"COOKIE_CONSENT_OR_SESSION_COOKIE",COOKIE_CONSENT_OR_NO_COOKIE:"COOKIE_CONSENT_OR_NO_COOKIE"},b={NO_COOKIE:"NO_COOKIE",SESSION:"SESSION",YEAR:"YEAR"},a={MEMORY:"MEMORY",COOKIE:"COOKIE",LOCAL_STORAGE:"LOCAL_STORAGE"},d={YEAR:365,SESSION:null};extole.tokenStore=extole.tokenStore?extole.tokenStore:new c;return extole.tokenStore});
extole.define("https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/metric-registry.js",["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/program.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/ajax.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/token-store.js"],function(e,h,k){function l(c,f,b){b={metric_type:c,key:f,value:b};c={"Content-Type":"application/x-www-form-urlencoded",
"X-Extole-App":"javascript_sdk"};k.get()&&(c.Authorization="Bearer+"+k.get(),f=[e.getProtocol(),e.getProgramDomain(),"/api/v4/debug/metrics"].join(""),b=h.convertToFormUrlEncoded(c,b),h({url:f,type:"POST",headers:c,data:b,xhrFields:{withCredentials:!0}}))}function g(c){this.increment=function(f){l("COUNTER",c,f)}}function p(c){this.update=function(f){l("HISTOGRAM",c,f)}}return{histogram:function(c){return new p(c)},counter:function(c){return new g(c)}}});
extole.define("CreativeRenderContext",["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/uri.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/collection.js"],function(e,h){function k(e,c,f){this.getElement=function(){return f};this.getName=function(){return e};this.getData=function(){return c};this.getParameters=function(){return c}}function l(){this.getName=function(){return extole.PROGRAM.name};this.getProgramDomain=function(){return extole.PROGRAM.programDomain};
this.getSitePatterns=function(){return extole.PROGRAM.sitePatterns};this.getSiteRegexPatterns=function(){return extole.PROGRAM.siteRegexPatterns}}function g(){this.backendTargetingEnabled=function(){return!0};this.cookieConsentEnabled=function(){return extole.CORE_CONFIG.isCookieConsentEnabled}}return function(p,c,f,b){var a=new k(p,c,f),d=new l,m=new g;this.getZone=function(){return a};this.getProgram=function(){return d};this.getCreativeData=function(){var b=e.dotNotationToObject(e.deserialize(location.search)),
c=e.dotNotationToObject(a.getParameters());return h.merge(b.extole_creative,c.creative)};this.getCoreConfig=function(){return m};this.getLocale=function(){return b||null}}});
extole.define("find-element-by-id",["https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/metric-registry.js"],function(e,h){function k(e,g,h){function c(){if(g())h();else{e();var b=setTimeout;f||(f=10);var a=500<f?500:f*=1.1;b(c,a)}}var f;c()}return function(l,g){var p=(new Date).getTime(),c=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_NOT_FOUND||3E3,f=extole.MILLISECONDS_TO_WARN_WHEN_ELEMENT_FOUND||
2E3,b=!1,a;k(function(){a=document.getElementById(l)},function(){var d=(new Date).getTime()-p,g=!!a;g&&d>=f?(h.histogram("zone_element_found_slow").update(d),e.warn("EXTOLE_ELEMENT_FOUND_SLOW: Scan duration: "+d+"ms, element id: "+l)):!extole.isFindElementBeforeZoneRequest&&!b&&d>=c&&(b=!0,h.histogram("zone_element_not_yet_found").update(d),e.warn("EXTOLE_ELEMENT_NOT_YET_FOUND: Scan duration: "+d+"ms, element id: "+l));return g},function(){g(a)})}});
extole.define("ensure-element",["find-element-by-id"],function(e){return function(h,k){h.element?k(h.element):h.element_id?e(h.element_id,k):k(document.body.appendChild(document.createElement("div")))}});
extole.define("pending-zone-service","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/device-type.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/dom.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/type.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/collection.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/metric-registry.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/token-store.js CreativeRenderContext ensure-element".split(" "),function(e,
h,k,l,g,p,c,f,b){function a(a,e){e=e||function(){};var g=a.name,k=m(a.data),l=Date.now();x(g);this.resolve=function(m,r,q,t){c.set(r,q);n(a)&&(r=d(g,"time_to_zone_response_ms"),q=Date.now()-l,p.histogram(r).update(q));b(a,function(b){a.element=b;n(a)&&u(a.element,function(){var a=d(g,"time_to_first_html_ms"),b=Date.now()-l;p.histogram(a).update(b)});h.clearEventListeners(a.element);b=new f(g,k,a.element,t);m(b);e(null,b.getZone())})}}function d(a,b){var c=document.getElementsByTagName("*").length;
c=2500<c?"xx_large":1500<c?"x_large":1E3<c?"large":500<c?"medium":"small";var d=e.isMobile((window.navigator||{}).userAgent)?"mobile":"desktop";return[a,d,c,b].join("_")}function m(a){a=g.merge({},a);delete a.campaign_id;delete a.extole_campaign_id;return a}function n(a){return v.test(a.name)||v.test((a.data||{}).redirect)?!0:!1}function u(a,b){var c=document.createElement("div");c.style.display="none";a.appendChild(c);y(c,b)}function y(a,b){if(window.MutationObserver){var c=new MutationObserver(function(d){g.each(d,
function(d){d.removedNodes&&g.each(d.removedNodes,function(d){d===a&&(b(),c.disconnect())})})});a.parentNode&&c.observe(a.parentNode,{childList:!0})}}var v=/_experience$/,q={},x=function(){var a={};return function(b){k.isUndefined(a[b])&&(a[b]=0);a[b]++;if(5===a[b]){b="duplicate_zone_requests : "+b;var c=g.filter(extole.q.history,function(a){return a.name&&"createZone"===a.name});c=g.map(c,function(a){delete (a.args[0]||{}).element;return a});l.warn(b,c)}}}();return{get:function(a){if(!q[a])throw Error("Pending zone does not exist for id: "+
a);return q[a]},create:function(){var b=Math.floor(1E9*Math.random()),c=0;return function(d,f){c++;var e=b+"."+c;q[e]=new a(d,f);return e}}()}});
extole.define("create-zone","extole-uri-parser https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/uri.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/collection.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/dom.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/program.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/token-store.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/ajax.js https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/ExtoleError.js pending-zone-service".split(" "),function(e,
h,k,l,g,p,c,f,b){function a(a){var b=document.createElement("script");l.setAttribute(b,"src",a);l.setAttribute(b,"async","");l.append(l.queryFirst("head")||l.queryFirst("body"),b);return b}return function(d,m,n){function u(){z&&(t.jwt=z);C&&(t.access_token=C);D&&(t.debug="true");t.extole_app="javascript_sdk";x=[A,"/zones/",d.name].join("");var b=a(x+h.serialize(t));b.onload=q;b.onerror=function(){v(new f("Zone script tag request failed","zone_tag_request_failure",null))}}function y(){var a={"Content-Type":"application/x-www-form-urlencoded",
Accept:"text/javascript","X-Extole-App":"javascript_sdk"};x=A+"/zones/"+d.name;z&&(a["X-Extole-Jwt"]=z,delete t.jwt);C&&(a.Authorization="Bearer+"+C);D&&(a["X-Extole-Debug"]="true");var b=c.convertToFormUrlEncoded(a,t);c({url:x,type:"POST",headers:a,data:b,complete:function(a,b){var c=/^text\/html(;|$)/,d=/^text\/plain(;|$)/;b=b.getResponseHeader("Content-Type");if(/^text\/javascript(;|$)/.test(b))var e=a;else c.test(b)?(c=document.createElement("div"),c.innerHTML=a,e=l.queryFirst("script",c).innerHTML):
d.test(b)&&!a?v(new f("Empty response","empty_response",null,"info")):v(new f("Received invalid content type: '"+b+"'","invalid_content_type",null,"warn"));if(e)try{(new Function(e))()}catch(F){v(new f("Error in zone script - MESSAGE: "+F.message+" STACK: "+F.stack,"zone_script_error"))}q()},error:function(a,b){try{var c=JSON.parse(this.responseText)}catch(G){c={status:b||null,statusText:a||null}}v(new f(c.message||"Ajax zone request failed",c.code||null,c))},xhrFields:{withCredentials:!0}})}function v(a){var b=
"Problem creating zone with "+(extole.CORE_CONFIG.isZonePostEnabled?"POST":"GET"),c=k.merge({originalMessage:a.message,zoneRequestUrl:x||null,zoneDefinition:d},a.data);m(new f(b,a.code||"zone_request_failed",c,a.logLevel||"error"));q()}function q(){"function"===typeof n&&setTimeout(n,500)}m=m||function(){};var x,r=h.deserialize(location.search),t=k.merge({},d.data||d.parameters),z=d.jwt||t.jwt||r.extole_jwt,C=p.get(),A=[g.getProtocol(),g.getProgramDomain()].join(""),D=t.debug&&"false"!==t.debug||
extole.IS_DEBUG_ENABLED;extole.isPassRefererInZoneData&&(t.referer=location.href);extole.CORE_CONFIG.isGlobalZoneParametersEnabled&&(r=e.parseGlobalZoneParameters(r),t=k.merge(t,r));if(extole.createZonePrehandler&&(r=extole.createZonePrehandler(d,t),!1===r)){v(new f("Zone request cancelled","zone_request_cancelled",null,"info"));return}d.element_id&&(t.element_id=d.element_id);d.data=t;t.zone_id=b.create(d,m);t=k.flatten(t);extole.CORE_CONFIG.isZonePostEnabled?y():u()}});
extole.define("create-zone-executor",["create-zone","ensure-element","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/logger.js","https://origin.xtlo.net/type=core:clientId=21243602:coreAssetsVersion=123/common/client/token-store.js"],function(e,h,k,l){function g(g,h,n){function q(a){if(a)p(a);else{d=!0;var b=Array.prototype.slice.call(arguments);(h||function(){}).apply(null,b);u()}}function p(b){function e(){setTimeout(function(){c(g,h,n)},1)}n+=1;if(5>n)if(f(b))d=
!1,l.remove(),e();else if("zone_tag_request_failure"!==b.code||extole.CORE_CONFIG.isAccessTokenIncludedInResponseEnabled)if("invalid_content_type"===b.code)e();else k[b.logLevel||"error"](b.toString());else a.stop(),m(function(b,c){c?d=!0:!1===c&&(d=!1,l.remove());a.start();e()});else k[b.logLevel||"error"](b.toString()),k.warn("ERROR_WOULD_BE_PASSED_TO_CREATE_ZONE_CALLBACK")}var u;a.push(function(a){u=b(a);e(g,q,u);d&&u()})}function p(a){function b(){for(;c.length;)c.shift().apply(null,arguments)}
var c=[],d=!1;return function(e){c.push(e);d||(d=!0,a(function(){d=!1;b.apply(null,arguments)}))}}function c(a,b,c){function d(){var d=!!l.get(),e=!!a.element;!extole.CORE_CONFIG.isAccessTokenIncludedInResponseEnabled&&!d||extole.isFindElementBeforeZoneRequest&&!e||g(a,b,c)}c=Number(c)||0;l.get()||extole.CORE_CONFIG.isAccessTokenIncludedInResponseEnabled||n(d);extole.isFindElementBeforeZoneRequest&&h(a,function(b){a.element=b;d()});d()}function f(a){a=a||{};return a.data&&403===a.data.http_status_code&&
("invalid_access_token"===a.code||"expired_access_token"===a.code)}function b(a){var b=!1;return function(){var c=Array.prototype.slice.call(arguments);b||(b=!0,a.apply(null,c))}}var a=new function(){var a=0,b=[],c=this,d=!1;this.push=function(a){b.push(a);this.next()};this.next=function(){function e(){a--;c.next()}if(!d)for(;1>a&&b.length;)b.shift()(e),a++};this.start=function(){d=!1;this.next()};this.stop=function(){d=!0}},d=!1,m=p(function(a){l.getTokenDetails(function(b,c){b?f(b)?a(null,!1):a(b):
a(null,0<c.expires_in)})}),n=p(l.fetch);return{initiateExecution:c}});