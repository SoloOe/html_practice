(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[336],{"8nqx":function(e,t,n){"use strict";n.r(t),n.d(t,"PersistentCodeEditorWrapper",(function(){return L}));var o=n("ODXe"),r=n("sEfC"),c=n.n(r),i=n("yrBZ"),a=n("QqFe"),s=n("ZK4f"),l=n("q1tI"),u=n("/MKj"),b=n("dIjy"),j=n("z9KF"),O=n("c2gB"),d=n("QtoC"),f=n("GwnQ"),p=n("vfkt"),w=n("akuy"),h=n("bCom"),y=n("Z9Sh"),x=n("rL5b"),v=n("rePB"),_=n("b+vN"),g=n("4Te6"),m=n("swBZ").components.code_editor,F={title:m.reset_workspace_confirmation_title,subtitle:m.reset_workspace_confirmation_content},S=n("nKUr");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var P=function AuthorModal(e){var t=e.fileName,n=e.closeModal,o=Object(O.c)(),r=o.updateFiles,c=o.openFile;return Object(S.jsx)(_.a,function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isOpen:!0,cancel:n,action:function addFile(){var e=new g.a({path:t,content:""});r([e]),c(t),n()}},function authorContent(e){return{actionText:"Add File",title:"".concat(e," does not exist"),subtitle:"".concat(e," was set as a default file in Author but does not exist in the workspace yet.")}}(t)))};function LearnerModal_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function LearnerModal_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LearnerModal_ownKeys(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LearnerModal_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function LearnerModal(e){var t=e.fileName,n=e.closeModal,r=Object(l.useState)(!1),c=Object(o.a)(r,2),i=c[0],a=c[1],s=Object(O.c)().restoreInitialSavepoint,u=function cancelAndClose(){n(),a(!1)};return i?Object(S.jsx)(_.a,LearnerModal_objectSpread({isOpen:!0,cancel:u,action:function resetFiles(){u(),s()}},F)):Object(S.jsx)(_.a,LearnerModal_objectSpread({isOpen:!0,cancel:u,action:function action(){return a(!0)}},function initialContent(e){return{actionText:"Reset Files",cancelText:"Ok",title:"Whoa there!",subtitle:"".concat(e," has been moved. This will cause problems with this exercise, please move ").concat(e," back to its original location, or reset your files.")}}(t)))},C=function MissingFileModal(e){var t=e.defaultFiles,n=Object(u.useSelector)(d.b),r=Object(l.useState)(!1),c=Object(o.a)(r,2),i=c[0],a=c[1],s=Object(O.c)(),b=s.fileIndex,j=s.submitting;if(i||!b||!j)return null;var p=j.isSubmitting&&j.action===f.c.Reset,w=Object.fromEntries(Object.entries(b).filter((function(e){return"file"===Object(o.a)(e,2)[1]}))),h=t.find((function(e){return!w[e]}));return p||!h?null:n?Object(S.jsx)(P,{fileName:h,closeModal:function closeModal(){return a(!0)}}):Object(S.jsx)(k,{fileName:h,closeModal:function closeModal(){return a(!0)}})},D="loader__DHHU7_47_1HFEDqxPP5ce",E="codeEditor__YzZnqkLi3VyOw9y-w8ZCc",M=n("ytuh"),L=function PersistentCodeEditorWrapper(e){var t=e.config,n=e.shouldShowCheckWorkButton,r=void 0!==n&&n,v=e.toggleFullScreen,_=Object(O.c)(),g=_.files,m=_.currentFile,F=_.ready,P=_.openFile,k=_.openFiles,L=_.closeFile,B=_.requestFile,K=_.updateFile,A=_.fetchWorkspace,N=_.persistWorkspace,T=_.workspaceSlug,q=Object(u.useSelector)(d.b),H=m?null==g?void 0:g[m]:null,R=m&&Boolean(H),W=Object(l.useState)(!1),Z=Object(o.a)(W,2),G=Z[0],I=Z[1],U=t.no_run_button;Object(l.useEffect)((function(){G&&A()}),[G,A]),Object(l.useEffect)((function(){F&&m&&!R&&B(m)}),[m,R,F,B,T]);var z=Object(l.useMemo)((function(){return c()(N,2e3)}),[N]),Q=Object(l.useCallback)((function(e){K(e),z()}),[z,K]),V=Object(y.b)(),X=Object(l.useState)(),Y=Object(o.a)(X,2),J=Y[0],$=Y[1],ee=Object(l.useCallback)((function(){I(!G)}),[I,G]),te=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(x.a,{}),Object(S.jsx)("div",{className:D,children:Object(S.jsx)(j.a,{})})]});if(!F)return te;var ne=Object(S.jsxs)(i.b,{center:!0,column:!0,flexGrow:1,"data-testid":"code-editor-placeholder",children:[Object(S.jsx)(s.a,{size:48}),Object(S.jsx)("div",{style:{marginTop:15},children:"Code Editor"}),!G&&Object(S.jsx)(a.d,{mt:24,onClick:function onClick(){return I(!0)},variant:"secondary",children:"Open file"})]}),oe=k.length?te:ne,re=t.navigator_disabled&&!q,ce=Boolean(!r&&m),ie=!re&&G;return Object(S.jsxs)(i.b,{flexDirection:"row",flexGrow:1,maxHeight:"100%",translate:"no","data-testid":"persistent-code-editor-wrapper",children:[ie&&Object(S.jsx)(b.a,{open:!0,toggleLayout:ee,controls:q&&Object(S.jsx)(w.a,{justTheSavepoints:!0})}),t.files&&Object(S.jsx)(C,{defaultFiles:t.files}),Object(S.jsxs)(i.b,{flexBasis:"0%",flexDirection:"column",flexGrow:1,overflow:"hidden",children:[Object(S.jsx)(M.a,{toggleFullScreen:v,canCloseFiles:!re,canEditFiles:!re,currentFileName:m,openFiles:k,onOpenFile:P,onCloseFile:L,navOpen:G,onToggleNav:ee}),Object(S.jsx)(i.b,{column:!0,flexGrow:1,children:R&&m?Object(S.jsx)(p.a,{className:E,file:g[m],onEditorLoad:$,updateFile:U?Q:K},m):oe}),Object(S.jsx)(h.a,{submitMode:f.d.RunAndTest,editor:J,showRunButton:ce,showReviewButton:V===y.a.Review,showSolutionButton:V===y.a.Solution,showPrettifyButton:!0})]})]})};t.default=L}}]);
//# sourceMappingURL=LayoutComponents-PersistentCodeEditor~dc7195f0.fffe9adb7b87b43f692d.chunk.js.map